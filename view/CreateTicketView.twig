{% extends 'Pagelayout.twig' %}

{% block header %}
    <header>
        <div class="row" style="margin-top: 1%; margin-bottom: 1%; margin-left: 0%; margin-right: 0%; padding-left: 1%; padding-right: 1%;">
            <div class="col-7">
                <h1>Création d'un ticket</h1>
            </div>
            <div class="col-5">
              <ul class="nav nav-tabs justify-content-end">
                  <li class="nav-item">
                      <a class="nav-link" href="{{ pathRoot ~ 'ticket' }}">
                        <i class="fa-solid fa-table-list"></i>&nbsp;Listes des tickets
                      </a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link active" href="{{ pathRoot ~ 'ticket/create' }}">
                        <i class="fa-solid fa-ticket"></i>&nbsp;Créer un ticket
                      </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" style="color:red" href="{{ pathRoot ~ 'security/logout' }}">
                      <i class="fa-solid fa-door-open"></i>&nbsp;Déconnexion
                    </a>
                </li>
              </ul>
            </div>
        </div>
    </header>
{% endblock %}

{% block body %}
<div class="container" style="border-style: ridge; border-width: thick; border-color: #e0e0e0; border-radius: 20px">
  <div class="row p-3" style="background-color: #d3d3d352; border-bottom-style: inherit;">
      <h4 class="m-0">NOUVEAU TICKET</h4>
  </div>

  <form class="p-1 needs-validation" novalidate name="createTicketForm" method="post" action="{{ pathRoot ~ 'ticket/save' }}">
    <div class="form-group row border p-1 m-0">
      <label for="requestType" class="col-sm-5 col-form-label font-weight-bold">Type de demande* : </label>
      <div class="col-sm-7 border-start">
        <select class="form-control" id="requestType" required>
          <option value="">-- Choisissez le type de demande --</option>
          {% for requestType in requestTypes %}
            <option value="{{requestType.Id}}">{{requestType.Id}} - {{requestType.Name|raw}}</option>
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="form-group row border p-1 m-0">
      <label for="priority" class="col-sm-5 col-form-label font-weight-bold">Priorité* :</label>
      <div class="col-sm-7 border-start">
        <select class="form-control" id="priority" required>
          <option value="">-- Choisissez la priorité --</option>
          {% for priority in priorities %}
            <option value="{{priority.Id}}">{{priority.Id}} - {{priority.Name}}</option>
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="form-group row border p-1 m-0">
      <label for="subject" class="col-sm-5 col-form-label font-weight-bold">Sujet* :</label>
      <div class="col-sm-7 border-start">
        <input type="text" class="form-control" id="subject" placeholder="Sujet" required>
      </div>
    </div>
    <div class="form-group row border p-1 m-0">
      <label for="message" class="col-sm-5 col-form-label font-weight-bold">Message* :</label>
      <div class="col-sm-7 border-start">
        <textarea class="form-control" id="message" placeholder="Message" rows="3" required></textarea>
      </div>
    </div>
    <div class="form-group row border p-1 m-0">
      <label for="file" class="col-sm-5 col-form-label font-weight-bold">Pièce jointe :</label>
      <div class="col-sm-7 border-start">
        <input class="form-control" type="file" id="file">
      </div>
    </div>
    <div class="form-group row border p-1 m-0">
      <div class="col-sm-2">
        <button class="btn btn-outline-primary" type="submit"><i class="fa-solid fa-plus"></i>&nbsp;Créer le ticket</button>
      </div>
    </div>
  </form>
</div>
{% endblock %}